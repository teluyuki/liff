<!DOCTYPE html>
<html>
  <head>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <base target="_top">
  </head>
  <body onload="alert('ページの読み込みが完了したよ！');">
<div>Hello <span id="name">world</span>.</div>
    <span id="token"></span>
    <button id="button">クリック</button>
    <form style="display: none" action="https://we6j0u5k49.execute-api.ap-northeast-1.amazonaws.com/default/" method="POST" id="form">
  <input type="hidden" id="var1" name="var1" value=""/>
  <input type="hidden" id="var2" name="var2" value=""/>
</form>
    <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
    <script>
// LIFFの初期化を行う
window.onload = function() {
liff.init({
liffId: "1657303791-OdyzKeVp"
}).then(() => { // 初期化完了. 以降はLIFF SDKの各種メソッドを利用できる
  //アクセストークン
  const token = liff.getIDToken()
  document.querySelector("#token").innerText = token
  
// 利用者のLINEアカウントのプロフィール名を取得
liff.getProfile().then(profile => {

// プロフィール名
const name = profile.displayName

// HTMLに挿入
document.querySelector("#name").innerText = name
})
})
}
</script>
    <input type="button" value="button" onclick="buttonClick()">

<script>
function buttonClick(){
    var request = new XMLHttpRequest();
 
   //window.location.href = 'http://35.76.159.69:8081/WebOpac/webopac/index.do';
     $("#var1").val(token);
     $("#form").submit();
}
</script>
  </body>
</html>
